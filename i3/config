# =========================
# |  i3 config file (v4)  |
# =========================

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

# Set mod key to Left Alt
set $mod Mod1
# Launch i3 environment
exec --no-startup-id dex --autostart --environment i3-gaps
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork
exec --no-startup-id nm-applet

# === Navigation ===
# Define directional keys (vim)
set $left   h
set $down   j
set $up     k
set $right  l
# Focus windows
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right
# Move windows
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right
# Kill focused window
bindsym $mod+Shift+w kill

# === Orientation ===
# Set orientation (horizontal/vertical)
bindsym $mod+e layout toggle split
bindsym $mod+Control+h split h 
bindsym $mod+Control+v split v
# Toggle fullscreen
bindsym $mod+f fullscreen toggle
# Toggle floating
bindsym $mod+Shift+space floating toggle

# === Workspaces ===
# Define workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
#Assign windows to workspaces
workspace $ws1  output  HDMI1
workspace $ws2  output  HDMI1
workspace $ws3  output  HDMI1
workspace $ws4  output  HDMI1
workspace $ws5  output  HDMI1
workspace $ws6  output  HDMI1
workspace $ws7  output  eDP1
workspace $ws8  output  eDP1
workspace $ws8  output  eDP1
workspace $ws9  output  eDP1
workspace $ws10 output  eDP1
# Focus workspaces
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10
# Move windows between workspaces
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# === Reset i3 ===
# Reload i3 configuration file
bindsym $mod+Shift+c reload
# Restart i3 in place
bindsym $mod+Shift+r restart
# Exit i3 (log out X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# === Resize Windows ===
bindsym $mod+r mode "resize"
mode "resize" {
        # Adjust size
        bindsym $left  resize shrink width 10 px or 10 ppt
        bindsym $down  resize shrink height 10 px or 10 ppt
        bindsym $up    resize grow height 10 px or 10 ppt
        bindsym $right resize grow width 10 px or 10 ppt

        # Adjust size using arrow keys
        bindsym Left  resize shrink width 10 px or 10 ppt
        bindsym Down  resize shrink height 10 px or 10 ppt
        bindsym Up    resize grow height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # Escape back to normal mode
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}


# === Focus ===
focus_follows_mouse no
focus_wrapping no

# === Border ===
default_border pixel 2
# default_floating_border pixel 0
# for_window [class=".*"] border pixel 0
smart_borders no_gaps

# === Colors ===
# class                 border  backgr. text    indicator child_border
client.focused          #000000 #000000 #ffffff #000000   #000000
client.focused_inactive #000000 #000000 #ffffff #000000   #000000
client.unfocused        #000000 #000000 #ffffff #000000   #000000
client.urgent           #000000 #000000 #ffffff #000000   #000000
client.placeholder      #000000 #000000 #ffffff #000000   #000000
client.background       #ffffff

# === Gaps ===
gaps inner 35
gaps outer 12
gaps top 70


# === Startup scripts === 
# Configure: keyboard + mouse + monitor + color-theme
exec_always --no-startup-id ~/Configurations/keyboard-mouse-setup.sh
exec_always --no-startup-id ~/Configurations/monitor-setup.sh
exec_always --no-startup-id ~/Configurations/wallpaper-setup.sh
exec_always --no-startup-id ~/Configurations/dark-theme-setup.sh
# Configure: picom + polybar + dunst
exec_always --no-startup-id ~/.config/polybar/launch.sh
exec_always --no-startup-id ~/.config/picom/launch.sh
exec_always --no-startup-id ~/.config/dunst/launch.sh 

# === Keybindings ===
# Screenshot (flameshot)
bindsym $mod+Shift+s exec flameshot gui
# Open terminal (kitty)
bindsym $mod+Return exec kitty
# Launch rofi: launcher
bindsym $mod+d exec --no-startup-id ~/.config/rofi/launchers/type-2/launcher.sh
# Launch rofi: powermenu
bindsym $mod+Escape exec --no-startup-id ~/.config/rofi/powermenu/type-2/powermenu.sh
# Toggle output device between headphones/speakers 
bindsym $mod+Control+s exec --no-startup-id ~/Projects/bash-scripts/switch-audio.sh

